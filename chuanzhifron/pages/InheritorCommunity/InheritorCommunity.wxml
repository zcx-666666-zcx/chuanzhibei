<!--InheritorCommunit.wxml-->
<view class="container">
  <!-- é¡µé¢æ ‡é¢˜ -->
  <view class="page-header">
    <text class="page-title">ä¼ æ‰¿äººç¤¾åŒº</text>
  </view>

  <!-- ä¼ æ‰¿äººæ¨è -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">å›½å®¶çº§ä¼ æ‰¿äºº</text>
    </view>
    <view class="master-grid">
      <view class="master-card card card-hover" 
            wx:for="{{masterList}}" 
            wx:key="id" 
            bindtap="onMasterTap" 
            data-item="{{item}}">
        <image src="{{item.image}}" class="master-image" mode="aspectFill"></image>
        <view class="master-content">
          <view class="master-header">
            <text class="master-name">{{item.name}}</text>
            <view class="master-level">{{item.level}}</view>
          </view>
          <text class="master-skill">{{item.skill}}</text>
          <text class="master-desc">{{item.description}}</text>
        </view>
        <view class="master-footer">
          <button class="btn-secondary book-button" bindtap="bookExperience" data-item="{{item}}" catchtap="true">
            é¢„çº¦ä½“éªŒ
          </button>
        </view>
      </view>
    </view>
  </view>

  <!-- æŠ€è‰ºå±•ç¤º -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">æŠ€è‰ºå±•ç¤º</text>
    </view>
    <view class="skill-grid">
      <view class="skill-card card card-hover" 
            wx:for="{{skillVideos}}" 
            wx:key="id" 
            bindtap="onVideoTap" 
            data-item="{{item}}">
        <view class="video-container">
          <image src="{{item.thumbnail}}" class="video-thumbnail" mode="aspectFill"></image>
          <view class="play-overlay">
            <text class="play-icon">â–¶</text>
          </view>
          <view class="video-duration">{{item.duration}}</view>
        </view>
        <view class="skill-content">
          <text class="skill-title">{{item.title}}</text>
          <text class="skill-desc">{{item.description}}</text>
          <view class="skill-footer">
            <text class="skill-date">{{item.date}}</text>
            <text class="skill-views">{{item.views}}æ¬¡è§‚çœ‹</text>
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- ç¤¾åŒºæ´»åŠ¨ -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">è¿‘æœŸæ´»åŠ¨</text>
    </view>
    <view class="activity-list">
      <view class="activity-item" wx:for="{{activities}}" wx:key="id">
        <view class="activity-date">
          <text class="date-day">{{item.day}}</text>
          <text class="date-month">{{item.month}}</text>
        </view>
        <view class="activity-content">
          <text class="activity-title">{{item.title}}</text>
          <text class="activity-time">{{item.time}}</text>
          <text class="activity-location">{{item.location}}</text>
        </view>
        <button class="btn-primary activity-button" bindtap="joinActivity" data-item="{{item}}">
          {{item.buttonText}}
        </button>
      </view>
    </view>
  </view>

  <!-- ç¤¾åŒºåŠ¨æ€ -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">ç¤¾åŒºåŠ¨æ€</text>
      <text class="more-link">æŸ¥çœ‹æ›´å¤š</text>
    </view>
    <view class="community-list">
      <view class="community-item" wx:for="{{communityPosts}}" wx:key="id">
        <image src="{{item.avatar}}" class="user-avatar" mode="aspectFill"></image>
        <view class="post-content">
          <view class="post-header">
            <text class="user-name">{{item.userName}}</text>
            <text class="post-time">{{item.time}}</text>
          </view>
          <text class="post-text">{{item.content}}</text>
          <view wx:if="{{item.images.length > 0}}" class="post-images">
            <image wx:for="{{item.images}}" wx:for-item="img" wx:key="*this" 
                   src="{{img}}" class="post-image" mode="aspectFill"></image>
          </view>
          <view class="post-footer">
            <button class="action-btn" bindtap="likePost" data-item="{{item}}" catchtap="true">
              <text class="iconfont {{item.isLiked ? 'icon-heart-fill' : 'icon-heart'}}"></text>
              <text>{{item.likes}}</text>
            </button>
            <button class="action-btn" bindtap="commentPost" data-item="{{item}}" catchtap="true">
              <text class="iconfont icon-comment">ğŸ’¬</text>
              <text>{{item.comments}}</text>
            </button>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>
