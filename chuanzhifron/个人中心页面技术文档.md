# 个人中心页面技术文档

## 1. 概述

本文档详细描述了非遗传承小程序个人中心页面的功能需求、UI设计建议以及技术实现要点，供前端开发人员参考。

## 2. 页面结构

个人中心页面包含以下几个主要功能区域：
1. 顶部导航栏
2. 用户信息展示区
3. 用户统计信息区
4. 功能菜单区
5. 收藏内容展示区
6. 用户创作展示区
7. 预约记录展示区

## 3. 功能详细说明

### 3.1 顶部导航栏
- 包含标题"个人中心"
- 右侧包含设置图标

### 3.2 用户信息展示区
- 显示用户头像
- 显示用户昵称
- 显示用户身份或标签（如"非遗文化爱好者"）
- 支持点击编辑个人资料

### 3.3 用户统计信息区
- 显示收藏数量
- 显示创作数量
- 显示预约数量
- 支持点击查看详细列表

### 3.4 功能菜单区
- 个人资料
- 设置
- 帮助与反馈
- 关于我们
- 退出登录

### 3.5 收藏内容展示区
- 展示用户收藏的非遗项目
- 每个项目包含：
  - 项目图片
  - 项目名称
  - 项目级别
  - 简短描述
- 支持移除收藏
- 支持查看全部收藏

### 3.6 用户创作展示区
- 展示用户上传的创作作品
- 每个作品包含：
  - 作品图片
  - 作品标题
- 支持添加新创作
- 支持查看全部创作

### 3.7 预约记录展示区
- 展示用户预约的传承人体验
- 每条预约包含：
  - 传承人头像
  - 传承人姓名和技能
  - 预约时间
  - 预约状态
- 支持取消预约
- 支持查看全部预约

## 4. UI设计建议

### 4.1 整体风格
- 主色调：中国传统红色(#C41E3A)和米白色(#F8F5F2)
- 辅助色：深灰色(#333333)和浅灰色(#CCCCCC)
- 字体：默认使用系统字体

### 4.2 布局规范
- 页面边距：左右各15px
- 元素间距：模块间间距20px，元素内间距10px
- 圆角：普遍使用8px圆角

### 4.3 组件样式

#### 4.3.1 用户信息区域
- 头像尺寸：80px * 80px
- 圆形头像
- 用户名使用较大字号突出显示

#### 4.3.2 统计信息卡片
- 采用三列布局展示
- 每个统计项包含数值和标签
- 点击区域有明显的视觉反馈

#### 4.3.3 功能菜单项
- 高度：50px
- 左侧显示菜单图标和文字
- 右侧显示箭头图标
- 点击时有背景色变化反馈

#### 4.3.4 收藏项目卡片
- 宽度：100%
- 图片尺寸：100px * 75px
- 右上角显示移除按钮
- 底部显示项目名称和级别

#### 4.3.5 创作作品卡片
- 宽度：48%（两列布局）
- 图片宽高比：1:1
- 底部显示作品标题
- 支持添加新创作的"+"卡片

#### 4.3.6 预约记录卡片
- 宽度：100%
- 左侧头像：60px * 60px
- 右侧信息区域垂直排列
- 底部显示预约状态和操作按钮

## 5. 接口调用说明

### 5.1 页面加载流程
1. 页面onLoad时检查用户登录状态
2. 并行请求以下接口：
   - 获取用户信息(/api/user/profile)
   - 获取用户统计数据(/api/user/stats)
   - 获取用户收藏列表(/api/user/collections)
   - 获取用户创作列表(/api/user/creations)
   - 获取用户预约列表(/api/user/bookings)

### 5.2 下拉刷新
- 重新请求所有用户相关数据
- 更新页面显示

## 6. 图片资源规划

### 6.1 用户头像
- 文件命名建议：user_avatar_{userID}.jpg
- 尺寸建议：200px * 200px (正方形)
- 格式：jpg/png
- 文件大小：建议不超过50KB

### 6.2 收藏项目图片
- 文件命名建议：collection_{ID}.jpg
- 尺寸建议：400px * 300px (宽高比 4:3)
- 格式：jpg/png
- 文件大小：建议不超过150KB

### 6.3 创作作品图片
- 文件命名建议：creation_{ID}.jpg
- 尺寸建议：400px * 400px (正方形)
- 格式：jpg/png
- 文件大小：建议不超过200KB

### 6.4 传承人头像
- 文件命名建议：master_{ID}.jpg
- 尺寸建议：120px * 120px (正方形)
- 格式：jpg/png
- 文件大小：建议不超过30KB

## 7. 性能优化建议

### 7.1 图片懒加载
- 非首屏图片使用懒加载技术
- 优先加载可视区域内的图片

### 7.2 数据缓存
- 用户基本信息可适当缓存
- 缓存时间建议不超过1小时

### 7.3 骨架屏
- 在数据加载过程中显示骨架屏占位符
- 提升用户体验

## 8. 异常处理

### 8.1 网络异常
- 显示网络异常提示
- 提供重试按钮

### 8.2 数据为空
- 当某个模块数据为空时，显示友好的空状态提示

### 8.3 接口错误
- 记录错误日志
- 给用户友好的错误提示

## 9. 技术性修改建议

### 9.1 当前存在的问题分析
1. 当前页面使用了大量模拟数据，缺少与后端的真实数据交互
2. 功能相对简单，缺少用户个性化设置选项
3. 没有用户成就系统或积分展示功能
4. 缺少社交化功能，如作品分享、关注等
5. 没有数据同步机制，用户在多设备上的数据可能不一致

### 9.2 主流个人中心设计趋势
根据当前主流小程序个人中心的设计模式，个人中心页面应当具备以下特征：
1. **个性化定制**：支持用户自定义界面主题、展示内容等
2. **数据可视化**：通过图表等形式展示用户行为数据
3. **社交化功能**：支持作品分享、好友互动等
4. **成就系统**：通过徽章、等级等方式展示用户成就
5. **一站式服务**：集成账户管理、订单记录、客服支持等功能

### 9.3 具体技术实现建议

#### 9.3.1 组件化架构重构
将个人中心页面拆分为多个可复用组件：
- 用户信息组件(user-profile)
- 统计信息组件(user-stats)
- 功能菜单组件(function-menu)
- 收藏列表组件(collections-list)
- 创作展示组件(creations-gallery)
- 预约记录组件(bookings-list)
- 骨架屏组件(skeleton-screen)

优势：
- 提高代码可维护性和可复用性
- 便于团队协作开发
- 符合现代前端开发的最佳实践

#### 9.3.2 数据请求优化策略
1. **并行请求**：使用Promise.all()并发请求多个用户相关接口
2. **增量更新**：只更新发生变化的数据，减少网络传输
3. **数据缓存机制**：对用户基本信息实施本地缓存策略
4. **错误降级处理**：单个接口失败不影响整体页面渲染

#### 9.3.3 用户体验优化措施
1. **骨架屏加载**：在数据加载过程中显示占位符，减少用户等待焦虑
2. **下拉刷新**：提供标准的手势刷新机制
3. **空状态处理**：优雅地处理数据为空的情况
4. **操作反馈**：提供清晰的用户操作反馈
5. **数据同步**：实现多设备间的数据同步机制

#### 9.3.4 性能优化方案
1. **图片懒加载**：非首屏图片延迟加载，减少初始请求压力
2. **虚拟列表**：对于长列表数据采用虚拟渲染技术
3. **事件防抖节流**：优化高频触发事件的处理
4. **内存泄漏防护**：及时清理定时器、监听器等资源

### 9.4 为什么这样修改能满足比赛评委的要求

#### 9.4.1 技术先进性体现
1. **现代化前端架构**：组件化设计思想体现了良好的工程实践
2. **性能优化意识**：多种优化策略展示了对用户体验的关注
3. **标准化交互设计**：遵循小程序平台的设计规范

#### 9.4.2 创新性亮点
1. **非遗文化个性化**：结合非遗文化特色设计个性化展示
2. **用户成就体系**：通过收藏、创作、预约等行为构建用户成长体系
3. **社交化延伸**：为用户创作提供分享和互动平台

#### 9.4.3 工程化考量
1. **可扩展性设计**：模块化结构便于后续功能迭代
2. **可维护性保障**：清晰的代码结构有利于长期维护
3. **团队协作友好**：组件化架构支持多人协同开发