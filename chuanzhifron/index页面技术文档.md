# 首页(index)技术文档

## 1. 概述

本文档详细描述了非遗传承小程序首页(index)的功能需求、UI设计建议以及技术实现要点，供前端开发人员参考。

## 2. 页面结构

首页包含以下几个主要功能区域：
1. 顶部导航栏
2. 轮播图区域
3. 快捷功能入口
4. 推荐非遗项目
5. 热门分类
6. 最新资讯
7. 热门传承人
8. 特色AR体验

## 3. 功能详细说明

### 3.1 顶部导航栏
- 包含标题"非遗传承"
- 右侧包含搜索图标和消息图标
- 点击搜索图标进入搜索页面
- 点击消息图标进入消息中心

### 3.2 轮播图区域
- 显示3-5张轮播图
- 支持手动滑动和自动播放(间隔5秒)
- 点击轮播图可跳转到指定内容页面(新闻详情/活动详情/非遗项目等)
- 底部显示指示器

### 3.3 快捷功能入口(金刚区)
采用九宫格布局，包含以下功能入口：
1. 非遗名录 - 跳转到非遗名录页面
2. AR体验 - 跳转到AR体验页面
3. 传承人 - 跳转到传承人社区页面
4. 我的收藏 - 跳转到个人中心收藏页面
5. 文创商城 - 跳转到文创商品页面(预留)
6. 活动中心 - 跳转到活动页面(预留)
7. 学习中心 - 跳转到学习页面
8. 地图导览 - 跳转到非遗地图页面(预留)
9. 更多 - 展开更多功能菜单

### 3.4 推荐非遗项目
- 横向滑动展示4个推荐非遗项目
- 每个项目包含：
  - 项目图片
  - 项目名称
  - 简短介绍
  - 非遗级别标签
- 点击项目可跳转到该项目详情页

### 3.5 热门分类
- 横向滑动展示5个热门分类
- 每个分类包含：
  - 分类图标
  - 分类名称
- 点击分类可跳转到对应分类的非遗项目列表页

### 3.6 最新资讯
- 纵向列表展示5条最新资讯
- 每条资讯包含：
  - 资讯图片
  - 标题
  - 简介
  - 发布时间
  - 阅读量和点赞数
- 支持下拉刷新和上拉加载更多
- 点击资讯可跳转到资讯详情页

### 3.7 热门传承人
- 横向滑动展示3位热门传承人
- 每位传承人包含：
  - 头像
  - 姓名
  - 擅长技艺
  - 荣誉称号
- 点击传承人可跳转到传承人详情页

### 3.8 特色AR体验
- 横向滑动展示2个特色AR体验项目
- 每个项目包含：
  - 封面图片
  - 项目名称
  - 简短描述
- 点击项目可跳转到AR体验详情页

## 4. UI设计建议

### 4.1 整体风格
- 主色调：中国传统红色(#C41E3A)和米白色(#F8F5F2)
- 辅助色：深灰色(#333333)和浅灰色(#CCCCCC)
- 字体：默认使用系统字体

### 4.2 布局规范
- 页面边距：左右各15px
- 元素间距：模块间间距20px，元素内间距10px
- 圆角：普遍使用8px圆角

### 4.3 组件样式

#### 4.3.1 轮播图
- 高度：200px
- 图片圆角：8px
- 指示器：底部居中，白色圆点

#### 4.3.2 金刚区图标
- 图标尺寸：40px * 40px
- 文字：最多4个字符，超出省略

#### 4.3.3 推荐项目卡片
- 宽度：200px
- 图片高度：120px
- 卡片阴影：轻微投影效果

#### 4.3.4 热门分类图标
- 图标尺寸：50px * 50px
- 文字：居中显示，最多4个字符

#### 4.3.5 资讯列表项
- 图片尺寸：100px * 75px
- 标题：最多1行，超出省略
- 简介：最多2行，超出省略

#### 4.3.6 传承人卡片
- 头像尺寸：60px * 60px
- 圆形头像
- 文字居中排列

#### 4.3.7 AR体验卡片
- 宽度：250px
- 图片高度：150px
- 卡片圆角：8px

## 5. 接口调用说明

### 5.1 页面加载流程
1. 页面onLoad时并行请求以下接口：
   - 获取轮播图数据(/api/index/banner)
   - 获取推荐非遗项目(/api/index/recommend-heritage)
   - 获取热门分类(/api/index/popular-categories)
   - 获取最新资讯(/api/index/latest-news)
   - 获取热门传承人(/api/index/popular-inheritors)
   - 获取特色AR体验(/api/index/featured-ar)

2. 所有数据获取完成后隐藏loading状态

### 5.2 下拉刷新
- 重新请求所有接口数据
- 更新页面显示

### 5.3 上拉加载
- 加载更多资讯数据
- 每次加载5条

## 6. 图片资源规划

### 6.1 轮播图(banner)
- 文件命名建议：banner_{序号}.jpg
- 示例：
  - banner_1.jpg (非遗进校园活动)
  - banner_2.jpg (传统工艺创新大赛)
  - banner_3.jpg (传承人风采展示)

### 6.2 推荐非遗项目图片
- 文件命名建议：recommend_heritage_{项目名}.jpg
- 示例：
  - recommend_heritage_jingtai.jpg (景泰蓝)
  - recommend_heritage_shujin.jpg (蜀锦)
  - recommend_heritage_ciqi.jpg (景德镇瓷器)
  - recommend_heritage_zisha.jpg (紫砂陶)

### 6.3 热门分类图标
- 文件命名建议：category_{分类名}.png
- 示例：
  - category_skill.png (传统技艺)
  - category_drama.png (传统戏剧)
  - category_music.png (传统音乐)
  - category_folk.png (民俗)
  - category_quyi.png (曲艺)

### 6.4 新闻资讯图片
- 文件命名建议：news_{序号}.jpg
- 示例：
  - news_1.jpg (非遗进校园相关新闻配图)
  - news_2.jpg (工艺创新大赛相关新闻配图)

### 6.5 传承人头像
- 文件命名建议：master_{姓名}.jpg
- 示例：
  - master_zhangmingyuan.jpg (张明远)
  - master_liuxiuying.jpg (李秀英)
  - master_wangjianguo.jpg (王建国)

### 6.6 AR体验封面图
- 文件命名建议：ar_experience_{项目名}.jpg
- 示例：
  - ar_experience_bronze.jpg (青铜器复原)
  - ar_experience_painting.jpg (古画复活)

## 7. 性能优化建议

### 7.1 图片懒加载
- 非首屏图片使用懒加载技术
- 优先加载可视区域内的图片

### 7.2 数据缓存
- 轮播图等不经常变动的数据可适当缓存
- 缓存时间建议不超过1小时

### 7.3 骨架屏
- 在数据加载过程中显示骨架屏占位符
- 提升用户体验

## 8. 异常处理

### 8.1 网络异常
- 显示网络异常提示
- 提供重试按钮

### 8.2 数据为空
- 当某个模块数据为空时，显示友好的空状态提示

### 8.3 接口错误
- 记录错误日志
- 给用户友好的错误提示

## 9. 修改建议

### 9.1 当前存在的问题
1. 首页数据来源单一，仅依赖[loadNewsData](file:///Users/zhangchenxi/Desktop/CodeProjects/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/chuanzhifron/pages/index/index.js#L55-L69)函数获取新闻数据
2. 缺少轮播图、推荐项目、热门分类等模块
3. 未充分利用首页作为流量入口的作用

### 9.2 建议增加的功能模块
1. 增加轮播图模块，展示重要活动和资讯
2. 增加快捷功能入口(金刚区)，提升用户操作效率
3. 增加推荐非遗项目模块，提高内容曝光率
4. 增加热门分类模块，方便用户按类别浏览
5. 增加热门传承人模块，加强传承人宣传
6. 增加特色AR体验模块，推广AR功能
7. 优化数据加载策略，使用并行请求提升加载速度

### 9.3 交互改进建议
1. 实现下拉刷新功能，更新所有模块数据
2. 实现资讯列表的上拉加载更多功能
3. 增加骨架屏加载效果，改善用户感知
4. 增加错误重试机制，提升系统健壮性