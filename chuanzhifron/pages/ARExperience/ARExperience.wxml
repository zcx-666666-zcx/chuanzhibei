<!--ARExperience.wxml-->
<view class="container">
  <!-- 页面标题 -->
  <view class="page-header">
    <text class="page-title">AR文物体验</text>
  </view>

  <!-- AR体验介绍 -->
  <view class="intro-section">
    <view class="intro-content">
      <view class="intro-text">
        <text class="intro-title">什么是文物 AR 体验？</text>
        <text class="intro-desc">对准指定的文物图片（Marker），在真实画面上叠加播放文物的讲解视频与细节演示，让文物"动起来"。</text>
        <text class="intro-features">通过我们的 AR 功能，您可以：</text>
        <view class="feature-list">
          <view class="feature-item">
            <text class="feature-icon">🔍</text>
            <text class="feature-text">在真实场景中观看文物细节视频</text>
          </view>
          <view class="feature-item">
            <text class="feature-icon">👆</text>
            <text class="feature-text">对准海报/展板即可触发 AR 叠加</text>
          </view>
          <view class="feature-item">
            <text class="feature-icon">📖</text>
            <text class="feature-text">聆听文物背后的历史与工艺故事</text>
          </view>

        </view>
      </view>
      <image src="https://s.coze.cn/image/PwCwmJk5298/" class="intro-image" mode="aspectFill"></image>
    </view>
  </view>
 <!-- AR体验指南 -->
 <view class="guide-section">
    <view class="section-header">
      <text class="section-title">AR体验指南</text>
    </view>
    <view class="guide-grid">
      <view class="guide-item">
        <view class="guide-icon">
          <text class="iconfont icon-mobile">📱</text>
        </view>
        <text class="guide-title">打开小程序</text>
        <text class="guide-desc">确保您的设备支持AR功能并已授予相机权限</text>
      </view>
      <view class="guide-item">
        <view class="guide-icon">
          <text class="iconfont icon-camera">📷</text>
        </view>
        <text class="guide-title">扫描识别</text>
        <text class="guide-desc">将相机对准指定的识别图或平面</text>
      </view>
      <view class="guide-item">
        <view class="guide-icon">
          <text class="iconfont icon-hand">👆</text>
        </view>
        <text class="guide-title">互动体验</text>
        <text class="guide-desc">点击、缩放或旋转屏幕上的虚拟文物进行互动</text>
      </view>
    </view>
  </view>

  <!-- AR体验项目 -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">热门AR体验项目</text>
    </view>
    <view class="ar-grid">
      <view class="ar-card card card-hover" 
            wx:for="{{arProjects}}" 
            wx:key="id" 
            bindtap="onARProjectTap" 
            data-item="{{item}}">
        <view class="ar-image-container">
          <image src="{{item.coverImage || 'http://localhost:8001/uploads/photo_ARExperinece/deomphoto.jpg'}}" class="ar-image" mode="aspectFill"></image>
          <view wx:if="{{item.isHot}}" class="hot-badge">热门</view>
        </view>
        <view class="ar-content">
          <text class="ar-title">{{item.name}}</text>
          <text class="ar-desc">{{item.description}}</text>
          <button class="btn-primary ar-button" bindtap="startARExperience" data-item="{{item}}" catchtap="true">
            <text class="iconfont icon-cube"></text>
            <text>开始体验</text>
          </button>
        </view>
      </view>
    </view>
  </view>

 
  <!-- 我的体验记录 -->
  <view class="section">
    <view class="section-header">
      <text class="section-title">我的体验记录</text>
    </view>
    <view class="ar-grid">
      <view class="ar-card card card-hover" 
            wx:for="{{experienceRecords}}" 
            wx:key="id" 
            wx:if="{{experienceRecords.length > 0}}">
        <view class="ar-image-container">
          <image src="{{item.image || 'http://localhost:8001/uploads/photo_ARExperinece/deomphoto.jpg'}}" class="ar-image" mode="aspectFill"></image>
        </view>
        <view class="ar-content">
          <text class="ar-title">{{item.name}}</text>
          <text class="ar-desc">体验时间：{{item.time}}</text>
          <text class="ar-desc">时长：{{item.duration}}</text>
          <button class="btn-secondary ar-button" bindtap="replayExperience" data-item="{{item}}" catchtap="true">
            <text>重新体验</text>
          </button>
        </view>
      </view>
      <view wx:if="{{experienceRecords.length === 0}}" class="no-record">
        <text>暂无体验记录</text>
      </view>
    </view>
  </view>
</view>